custom:
  dev:
    API_URL: "http://localhost:60000/simple/v1/cjbnqs44c0007014849crbkg8"
  prod:
    API_URL: "https://api.graph.cool/simple/v1/cjba2txd62g5p0182pezwuy1z"

types: ./types.graphql
functions:
  RoomCapacityCheck:
    handler:
      code:
        src: ./src/CapacityCheck.js
        environment:
          API_URL: ${self:custom.${opt:target}.API_URL}
    type: resolver
    schema: ./src/CapacityCheck.graphql
permissions:
- operation: Booking.read
- operation: Booking.create
- operation: Booking.update
- operation: Booking.delete
- operation: File.read
- operation: File.create
- operation: File.update
- operation: File.delete
- operation: Guest.read
- operation: Guest.create
- operation: Guest.update
- operation: Guest.delete
- operation: Rates.read
- operation: Rates.create
- operation: Rates.update
- operation: Rates.delete
- operation: Reservation.read
- operation: Reservation.create
- operation: Reservation.update
- operation: Reservation.delete
- operation: Room.read
- operation: Room.update
- operation: Room.create
- operation: Room.delete
- operation: RoomTypes.read
- operation: RoomTypes.create
- operation: RoomTypes.update
- operation: RoomTypes.delete
- operation: User.read
- operation: User.create
- operation: User.update
- operation: User.delete
- operation: BookingOnRoom.*
- operation: BookingOnUser.*
- operation: GuestsOnReservation.*
- operation: RatesOnRoomTypes.*
- operation: ReservationOnRoom.*
- operation: ReservationOnUser.*
- operation: RoomOnRoomTypes.*
rootTokens:
- website
